(()=>{let content=document.getElementById("sd9000Content"),searchBox=document.querySelector("#sd9000Search input"),getPairs=e=>{let t=[];for(let n=0;n<e.length;n++){let l=e.key(n),o=e.getItem(l);t.push({key:l,val:o})}return t},renderList=(e,t)=>{content.innerHTML="";let n=(searchBox.value||"").toLowerCase();e.filter(e=>e.key.toLowerCase().includes(n)||e.val.toLowerCase().includes(n)).forEach(({key:e,val:n})=>{let l=document.createElement("div");l.className="sd9000Row",l.innerHTML=`
        <input class="sd9000Key" value="${e}" disabled>
        <input class="sd9000Val" value="${n}">
        <button onclick="(() => {
          const v = this.parentElement.querySelector('.sd9000Val').value;
          (${"localStorage"===t?"localStorage":"sessionStorage"===t?"sessionStorage":"null"}).setItem('${e}', v);
        })()">ğŸ’¾</button>
        <button onclick="(() => {
          (${"localStorage"===t?"localStorage":"sessionStorage"===t?"sessionStorage":"null"}).removeItem('${e}');
          window.sd9000Render('${t}');
        })()">ğŸ—‘ï¸</button>
      `,content.appendChild(l)})},renderCookies=()=>{content.innerHTML="";let e=document.cookie.split(";");e.forEach(e=>{let[t,...n]=e.split("="),l=decodeURIComponent(t.trim()),o=decodeURIComponent(n.join("=")),r=document.createElement("div");r.className="sd9000Row",r.innerHTML=`
        <input class="sd9000Key" value="${l}" disabled>
        <input class="sd9000Val" value="${o}">
        <button onclick="document.cookie = '${encodeURIComponent(l)}=' + encodeURIComponent(this.parentElement.querySelector('.sd9000Val').value) + '; path=/'">ğŸ’¾</button>
        <button onclick="document.cookie = '${encodeURIComponent(l)}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/'">ğŸ—‘ï¸</button>
      `,content.appendChild(r)})},renderIndexedDB=async()=>{content.innerHTML="";let e=await indexedDB.databases();if(!e.length)return content.innerHTML="\uD83D\uDDC3 No IndexedDBs found.";for(let t of e){let n=document.createElement("div");n.innerHTML=`ğŸ“¦ ${t.name} v${t.version}`,content.appendChild(n)}},renderExtras=()=>{content.innerHTML=`
      <div style="margin-bottom:10px;"><button onclick="alert('UUID: ' + crypto.randomUUID())">ğŸ² Generate UUID</button></div>
      <div><input id="jwtInput" style="width:95%;" placeholder="Paste JWT here to decode">
      <button onclick="(() => {
        const jwt = document.getElementById('jwtInput').value.split('.')[1];
        try {
          const json = atob(jwt);
          alert('Decoded:
' + JSON.stringify(JSON.parse(json), null, 2));
        } catch(e) {
          alert('Invalid JWT');
        }
      })()">ğŸ”“ Decode JWT</button></div>
      <div style="margin-top:10px;"><button onclick="alert('ğŸ‘½ You found the terminal: type "open_terminal()" in console')">ğŸ§ª Hidden Terminal</button></div>
    `};window.sd9000Render=async(e="localStorage")=>{"localStorage"===e?renderList(getPairs(localStorage),"localStorage"):"sessionStorage"===e?renderList(getPairs(sessionStorage),"sessionStorage"):"Cookies"===e?renderCookies():"IndexedDB"===e?await renderIndexedDB():"Extras"===e&&renderExtras()},searchBox.addEventListener("input",()=>window.sd9000Render(window.sd9000CurrentType)),document.getElementById("sd9000AddBtn").onclick=()=>{let e=document.getElementById("sd9000NewKey").value,t=document.getElementById("sd9000NewVal").value;if(!e)return;let n="localStorage"===window.sd9000CurrentType?localStorage:"sessionStorage"===window.sd9000CurrentType?sessionStorage:null;n?(n.setItem(e,t),window.sd9000Render(window.sd9000CurrentType)):"Cookies"===window.sd9000CurrentType&&(document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; path=/`,window.sd9000Render("Cookies")),document.getElementById("sd9000NewKey").value="",document.getElementById("sd9000NewVal").value=""},document.getElementById("sd9000Export").onclick=()=>{let e="localStorage"===window.sd9000CurrentType?localStorage:"sessionStorage"===window.sd9000CurrentType?sessionStorage:null;if(!e)return;let t={};for(let n=0;n<e.length;n++){let l=e.key(n);t[l]=e.getItem(l)}let o=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(o),s=document.createElement("a");s.href=r,s.download=`${window.sd9000CurrentType}.json`,s.click(),URL.revokeObjectURL(r)},document.getElementById("sd9000Import").onclick=()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{let t=e.target.files[0],n=new FileReader;n.onload=()=>{let e=JSON.parse(n.result),t="localStorage"===window.sd9000CurrentType?localStorage:"sessionStorage"===window.sd9000CurrentType?sessionStorage:null;t&&(Object.entries(e).forEach(([e,n])=>t.setItem(e,n)),window.sd9000Render(window.sd9000CurrentType))},n.readAsText(t)},e.click()},window.addEventListener("storage",e=>{e.storageArea===localStorage&&"localStorage"===window.sd9000CurrentType&&window.sd9000Render("localStorage"),e.storageArea===sessionStorage&&"sessionStorage"===window.sd9000CurrentType&&window.sd9000Render("sessionStorage")}),window.open_terminal=()=>{let term=prompt("\uD83D\uDC7E Terminal activated. Command:");try{let result=eval(term);alert("âœ… "+result)}catch(e){alert("âŒ "+e.message)}},window.sd9000Render(window.sd9000CurrentType)})();
